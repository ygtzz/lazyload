{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///lazyload.js","webpack:///webpack/bootstrap 110d8ab6c472ee8d7ec6","webpack:///./src/index.js","webpack:///./node_modules/_object-assign@4.1.1@object-assign/index.js"],"names":["root","factory","exports","module","define","amd","a","i","self","this","modules","__webpack_require__","moduleId","installedModules","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","LazyLoad","opts","_objectAssign2","default","threshold","imgSelector","imgAttr","imgDefer","container","window","parseInt","images","document","querySelectorAll","intersectionMode","IntersectionObserver","loads","seeHeight","io","fCheck","triggers","Array","slice","ioes","forEach","ioe","el","target","intersectonRatio","intersectionRatio","_fLoadImage","onload","onerror","unobserve","rootMargin","debounce","fCheckImage","documentElement","clientHeight","body","item","addEventListener","_fCheckImage","_fLoadDeferImages","console","log","value","undefined","_objectAssign","obj","_this","index","defer","getAttribute","setTimeout","push","_fFilterImageFormLoads","_this2","observe","length","removeEventListener","_fInSight","imgDom","getBoundingClientRect","top","img","Image","src","filter","indexOf","_debounce","fn","delay","atleast","timeout","startTime","Date","curTime","clearTimeout","toObject","val","TypeError","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","map","join","test3","split","letter","keys","err","source","from","symbols","to","arguments","key"],"mappings":"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","file":"lazyload.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.LazyLoad = undefined;\n\nvar _objectAssign = __webpack_require__(1);\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction LazyLoad(opts) {\n    opts = (0, _objectAssign2.default)({\n        threshold: 0,\n        imgSelector: 'img[data-src]',\n        imgAttr: 'data-src',\n        imgDefer: 'data-defer',\n        container: window\n    }, opts);\n\n    opts.threshold = parseInt(opts.threshold);\n    this.opts = opts;\n    this.images = document.querySelectorAll(opts.imgSelector);\n    this.intersectionMode = window.IntersectionObserver ? true : false;\n    this.loads = [];\n    this.seeHeight = null;\n    this.io = null;\n\n    var self = this,\n        fCheck = null,\n        triggers = ['scroll', 'resize'];\n\n    if (self.images) {\n        self.images = Array.prototype.slice.call(self.images);\n        if (self.intersectionMode) {\n            self.io = new IntersectionObserver(function (ioes) {\n                ioes.forEach(function (ioe) {\n                    var el = ioe.target,\n                        intersectonRatio = ioe.intersectionRatio;\n                    if (intersectonRatio >= 0 && intersectonRatio <= 1) {\n                        self._fLoadImage(el);\n                    }\n                    el.onload = el.onerror = function () {\n                        return self.io.unobserve(el);\n                    };\n                });\n            }, { rootMargin: opts.threshold + 'px 0px' });\n        } else {\n            fCheck = debounce(fCheckImage, 200, 300);\n            self.seeHeight = document.documentElement.clientHeight || document.body.clientHeight;\n            triggers.forEach(function (item) {\n                opts.container.addEventListener(item, fCheck);\n            });\n        }\n        //进入页面先执行一次，将首屏的图片加载出来\n        self._fCheckImage();\n        //将延迟加载的图片加载出来\n        self._fLoadDeferImages();\n    } else {\n        console.log('lazyload images is empty');\n    }\n}\n\nLazyLoad.prototype._fLoadDeferImages = function () {\n    var _this = this;\n\n    var images = this.images,\n        loads = this.loads;\n    images.forEach(function (item, index) {\n        var defer = item.getAttribute(_this.opts.imgDefer);\n        if (defer) {\n            defer = parseInt(defer);\n            setTimeout(function () {\n                _this._fLoadImage(item);\n                loads.push(index);\n            }, defer);\n        }\n    });\n    this._fFilterImageFormLoads(images);\n};\n\nLazyLoad.prototype._fCheckImage = function () {\n    var _this2 = this;\n\n    var images = this.images,\n        loads = this.loads,\n        io = this.io;\n    if (this.intersectionMode) {\n        images.forEach(function (item) {\n            return io.observe(item);\n        });\n    } else {\n        this._fFilterImageFormLoads();\n        if (!images.length) {\n            triggers.forEach(function (item) {\n                opts.container.removeEventListener(item, fCheck);\n            });\n            loads = null;\n            return;\n        }\n        images.forEach(function (item, index) {\n            if (_this2._fInSight(item)) {\n                _this2._fLoadImage(item, index);\n                loads.push(index);\n            }\n        });\n    }\n};\n\nLazyLoad.prototype._fInSight = function (imgDom) {\n    var bound = imgDom.getBoundingClientRect();\n    return bound.top - this.seeHeight < this.opts.threshold;\n};\n\nLazyLoad.prototype._fLoadImage = function (imgDom) {\n    var img = new Image();\n    img.src = imgDom.getAttribute(this.opts.imgAttr);\n    img.onload = function () {\n        imgDom.src = img.src;\n    };\n};\n\nLazyLoad.prototype._fFilterImageFormLoads = function (images) {\n    var images = this.images,\n        loads = this.loads;\n    images = images.filter(function (item, index) {\n        return loads.indexOf(index) == -1;\n    });\n    loads.length = 0;\n\n    return images;\n};\n\nLazyLoad.prototype._debounce = function (fn, delay, atleast) {\n    var timeout = null,\n        startTime = new Date();\n    return function () {\n        var curTime = new Date();\n        clearTimeout(timeout);\n        if (curTime - startTime >= atleast) {\n            fn();\n            startTime = curTime;\n        } else {\n            timeout = setTimeout(fn, delay);\n        }\n    };\n};\n\nexports.LazyLoad = LazyLoad;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// lazyload.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 110d8ab6c472ee8d7ec6","import assign from 'object-assign';\n\nfunction LazyLoad(opts){\n    opts = assign({\n        threshold: 0,\n        imgSelector:'img[data-src]',\n        imgAttr: 'data-src',\n        imgDefer: 'data-defer',\n        container: window\n    }, opts);\n\n    opts.threshold = parseInt(opts.threshold);\n    this.opts = opts;\n    this.images = document.querySelectorAll(opts.imgSelector);\n    this.intersectionMode = window.IntersectionObserver ? true : false;\n    this.loads = [];\n    this.seeHeight = null;\n    this.io = null;\n\n    var self = this,\n        fCheck = null,\n        triggers = ['scroll','resize'];\n    \n    if(self.images){\n        self.images = Array.prototype.slice.call(self.images);\n        if(self.intersectionMode){\n            self.io = new IntersectionObserver(function(ioes){\n                ioes.forEach(function(ioe){\n                    var el = ioe.target,\n                        intersectonRatio = ioe.intersectionRatio;\n                    if(intersectonRatio >= 0 && intersectonRatio <= 1){\n                        self._fLoadImage(el);\n                    }\n                    el.onload = el.onerror = () => self.io.unobserve(el);\n                });\n            },{ rootMargin: opts.threshold + 'px 0px' });\n        }\n        else{   \n            fCheck = debounce(fCheckImage,200,300);\n            self.seeHeight = document.documentElement.clientHeight || document.body.clientHeight;\n            triggers.forEach(item => {\n                opts.container.addEventListener(item,fCheck);\n            });\n        }\n        //进入页面先执行一次，将首屏的图片加载出来\n        self._fCheckImage();\n        //将延迟加载的图片加载出来\n        self._fLoadDeferImages();\n    }   \n    else{\n        console.log('lazyload images is empty');\n    }\n}\n\nLazyLoad.prototype._fLoadDeferImages = function(){\n    var images = this.images,\n        loads = this.loads;\n    images.forEach((item,index) => {\n        var defer = item.getAttribute(this.opts.imgDefer);\n        if(defer){\n            defer = parseInt(defer);\n            setTimeout(() => {\n                this._fLoadImage(item);\n                loads.push(index);\n            },defer);\n        }\n    });\n    this._fFilterImageFormLoads(images);\n}\n\nLazyLoad.prototype._fCheckImage = function(){\n    var images = this.images,\n        loads = this.loads,\n        io = this.io;\n    if(this.intersectionMode){\n        images.forEach(item => io.observe(item));\n    }\n    else{\n        this._fFilterImageFormLoads();\n        if(!images.length){\n            triggers.forEach(item => {\n                opts.container.removeEventListener(item,fCheck);\n            });\n            loads = null;\n            return;\n        }\n        images.forEach((item,index) => {\n            if(this._fInSight(item)){\n                this._fLoadImage(item,index);\n                loads.push(index);        \n            }\n        });\n    }\n}\n\nLazyLoad.prototype._fInSight = function(imgDom){\n    var bound = imgDom.getBoundingClientRect();\n    return bound.top - this.seeHeight < this.opts.threshold;\n}\n\nLazyLoad.prototype._fLoadImage = function(imgDom){\n    var img = new Image();\n    img.src = imgDom.getAttribute(this.opts.imgAttr);\n    img.onload = function(){\n        imgDom.src = img.src;\n    }\n}\n\nLazyLoad.prototype._fFilterImageFormLoads = function(images){\n    var images = this.images,\n        loads = this.loads;\n    images = images.filter(function(item,index){\n        return loads.indexOf(index) == -1; \n    });\n    loads.length = 0;\n\n    return images;\n}\n\nLazyLoad.prototype._debounce = function(fn, delay, atleast) {\n    var timeout = null,\n        startTime = new Date();\n    return function() {\n        var curTime = new Date();\n        clearTimeout(timeout);\n        if(curTime - startTime >= atleast) {\n            fn();\n            startTime = curTime;\n        }else {\n            timeout = setTimeout(fn, delay);\n        }\n    }\n}\n\nexport {LazyLoad};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_object-assign@4.1.1@object-assign/index.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}